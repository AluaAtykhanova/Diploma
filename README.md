project/
├── bot/                                    # Основной код Telegram-бота
│   ├── commands/                           # Обработчики команд
│   │   └── sessionCommands.js              # Обработчики команд `/start` и `/new`
│   ├── controllers/                        # Обработчики запросов в бд
│   │   └── warning.js                      # Процессы связаные с предупржедениями и стоп-листом
│   ├── handlers/                           # Обработчики запросов пользователей
│   │   └── messageHandler.js               # Обработка текстовых сообщений
│   ├── middlewares/                        # Промежуточные слои
│   │   ├── detectThreatInRequest.js        # Анализ потенциальной опасности запросов
│   │   └── receiveMessage.js               # Ограничение частоты запросов
│   ├── prompts/
│   │   ├── instructions.js                 # Строки инструкций для бота
│   │   └── resolutions.js                  # Резолюции
│   ├── queries/
│   │   └── userQuery.js                    # Запросы в бд касающиеся пользователя
│   ├── utils/                              # Утилитарные функции
│   │   ├── ai                              # Папка для обучения модели генерации резолюции(fine-tune)
│   │   │   ├── addDataSet.js               # Шаг 1. Загружаем датасет
│   │   │   ├── fineTune.js                 # Шаг 2. Инициализируем работу
│   │   │   └── checkFineTune.js            # Шаг 3. 30-60 минут регулярно следим за состоянием обучения, фиксим ошибки если таковые будут
│   │   ├── aiClient.js                     # Взаимодействие с OpenAI API
│   │   └── logger.js                       # Логирование
│   ├── bot.js                              # Основной файл запуска бота
│   └── config.js                           # Конфигурация бота (токены, настройки)
├── storage/                                # Хранилище данных
│   └── logs/                               # Логи запросов и ошибок
│       ├── app                             # Основные логи работы
│       └── errors                          # Логи ошибок
├── .gitignore                              # Исключения для Git
├── package.json                            # Описание зависимостей Node.js
└── README.md                               # Основная документация проекта

### **Пошаговый план реализации проекта**  

#### **1. Проверка запросов на вредоносные установки**
- **Название**: Анализ запросов на злонамеренные установки.  
- **Краткое описание**:  
  Настройте искусственный интеллект для анализа текста, чтобы распознавать:
  - Попытки перепрограммирования бота.  
  - Угрозы или команды, направленные на сбор данных других пользователей.  
- **Основной механизм**: Обучите ИИ на датасете с примерами безопасных и злонамеренных команд. Используйте модели обработки текста, например, Hugging Face.  
- **Уровень сложности**: Высокий.  

#### **2. Очередь для отправки сообщений**
- **Название**: Реализация очереди запросов.  
- **Краткое описание**:  
  Добавьте все пользовательские запросы в очередь. Лимитируйте частоту их выполнения.  
- **Технология**: Node.js, ML-алгоритмы.  
- **Уровень сложности**: Средний.  

#### **3. Защита от фишинга**
- **Название**: Ограничение на использование ссылок.  
- **Краткое описание**:  
  Полностью запретите отправку ссылок ботом. При попытке переобучения или манипуляции бот возвращает сообщение о нарушении и предупреждает пользователя.  
- **Основной механизм**: Валидация запросов на наличие ссылок. Автоматический бан при многократных нарушениях.  
- **Технология**: Node.js, Telegraf.  
- **Уровень сложности**: Низкий.  

#### **4. Защита контекста сессий**
- **Название**: Сброс контекста по завершении запроса.  
- **Краткое описание**:  
  У каждого пользователя должен быть свой уникальный контекст. Контекст сбрасывается после обработки запроса, исключая накопление данных из предыдущих запросов.  
- **Основной механизм**:  
  - Связать контекст с идентификатором пользователя.  
  - Очистить данные после завершения запроса.  
- **Технология**: Node.js, Telegraf.  
- **Уровень сложности**: Средний.  

---

### **Уровень угроз и защита**
1. **Контекстные манипуляции**: Защита через раздельные сессии.  
2. **DDoS-атаки**: Очередь запросов и бан злоумышленников.  
3. **Фишинг**: Запрет ссылок.  
4. **Перепрограммирование бота**: Анализ комментариев и запрет опасных инструкций.  
5. **Конфиденциальность данных**: Проверка запросов на недопустимые действия, предупреждения и блокировки.  

#### Итог: Разделение задач на небольшие этапы позволяет четко контролировать процесс разработки, одновременно внедряя механизмы защиты.
